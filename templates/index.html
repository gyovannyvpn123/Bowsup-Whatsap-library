<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bocksup - WhatsApp Integration Library</title>
    <link href="https://cdn.replit.com/agent/bootstrap-agent-dark-theme.min.css" rel="stylesheet">
</head>
<body>
    <nav class="navbar navbar-expand-lg bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">Bocksup</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="/">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/about">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/docs">Documentation</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/examples">Examples</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="container mt-5">
        <div class="row">
            <div class="col-lg-8 mx-auto text-center">
                <h1 class="display-4">Bocksup</h1>
                <p class="lead mb-4">A Python library that replicates yowsup's WhatsApp integration functionality with improved stability, error handling, and modern Python compatibility.</p>
                <div class="d-grid gap-2 d-sm-flex justify-content-sm-center">
                    <a href="/docs" class="btn btn-primary btn-lg px-4 gap-3">Documentation</a>
                    <a href="/examples" class="btn btn-outline-secondary btn-lg px-4">Examples</a>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Modern Python Support</h5>
                        <p class="card-text">Compatible with Python 3.8+ and leverages modern language features and async patterns.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Signal Protocol Encryption</h5>
                        <p class="card-text">Implements the Signal Protocol for secure end-to-end encrypted messaging.</p>
                    </div>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card h-100">
                    <div class="card-body">
                        <h5 class="card-title">Improved Error Handling</h5>
                        <p class="card-text">Robust error handling and recovery mechanisms for more stable applications.</p>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-4">
            <div class="col-md-6 offset-md-3">
                <div class="card">
                    <div class="card-header bg-primary text-white">
                        Library Status
                    </div>
                    <div class="card-body">
                        <div id="library-info-loading">Loading library information...</div>
                        <div id="library-info" class="d-none">
                            <p><strong>Version:</strong> <span id="library-version"></span></p>
                            <p><strong>Available Features:</strong></p>
                            <ul id="library-features"></ul>
                        </div>
                        <div id="library-error" class="d-none alert alert-warning"></div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mt-5">
            <div class="col-lg-10 mx-auto">
                <h3>Sample Code</h3>
                <pre class="bg-dark text-light p-3 rounded"><code>import asyncio
from bocksup import create_client

async def main():
    # Create a WhatsApp client
    client = create_client("phone_number", "password")
    
    # Connect to WhatsApp
    connected = await client.connect()
    
    if connected:
        # Register message handlers
        client.register_message_handler(message_handler)
        
        # Send a message
        result = await client.send_text_message(
            "recipient_number", 
            "Hello from Bocksup!"
        )
        print(f"Message sent: {result}")
    
    # Keep the connection alive
    await asyncio.sleep(60)
    await client.disconnect()

async def message_handler(message_data):
    print(f"Message received: {message_data}")

if __name__ == "__main__":
    asyncio.run(main())
</code></pre>
            </div>
        </div>
    </div>

    <footer class="mt-5 py-3 bg-dark">
        <div class="container text-center">
            <p class="text-light mb-0">Bocksup v0.2.0 | MIT License | Not affiliated with WhatsApp Inc.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Fetch library information
            fetch('/api/library_info')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('library-info-loading').classList.add('d-none');
                    
                    if (data.status === 'available') {
                        document.getElementById('library-info').classList.remove('d-none');
                        document.getElementById('library-version').textContent = data.version;
                        
                        const featuresList = document.getElementById('library-features');
                        for (const [feature, available] of Object.entries(data.features)) {
                            const li = document.createElement('li');
                            li.className = available ? 'text-success' : 'text-secondary';
                            li.textContent = feature.charAt(0).toUpperCase() + feature.slice(1);
                            if (!available) {
                                li.textContent += ' (Not available)';
                            }
                            featuresList.appendChild(li);
                        }
                    } else {
                        document.getElementById('library-error').classList.remove('d-none');
                        document.getElementById('library-error').textContent = data.error;
                    }
                })
                .catch(error => {
                    document.getElementById('library-info-loading').classList.add('d-none');
                    document.getElementById('library-error').classList.remove('d-none');
                    document.getElementById('library-error').textContent = 'Error loading library information: ' + error.message;
                });
        });
    </script>
</body>
</html>